set  -g default-terminal "xterm-256color"
set  -g base-index      1
setw -g pane-base-index 1

set -g status-keys vi
set -g mode-keys   vi

# rebind main key: C-a
unbind C-b
set -g prefix C-a
bind -n -N "Send the prefix key through to the application" \
  C-a send-prefix

bind-key -N "Kill the current window" & kill-window
bind-key -N "Kill the current pane" x kill-pane

set  -g mouse             on
set  -g focus-events      off
setw -g aggressive-resize on
setw -g clock-mode-style  24
set  -s escape-time       0
set  -g history-limit     5000

# ============================================= #
# Load plugins with Home Manager                #
# --------------------------------------------- #

# tmuxplugin-better-mouse-mode
# ---------------------


# tmuxplugin-yank
# ---------------------


# tmuxplugin-t-smart-tmux-session-manager
# ---------------------
set -g @t-fzf-prompt 'î¯ˆ  '
set -g @t-fzf-default-results 'sessions'
set -g @t-bind "space"


# tmuxplugin-tmux-thumbs
# ---------------------
set -g @plugin 'fcsonline/tmux-thumbs'
set -g @thumbs-command 'echo -n {} | pbcopy' # copy to clipboard
set -g @thumbs-key C
set -g @thumbs-contrast 1


# tmuxplugin-fzf-tmux-url
# ---------------------
set -g @plugin 'wfxr/tmux-fzf-url'
set -g @fzf-url-bind 'u'
set -g @fzf-url-history-limit '2000'
set -g @fzf-url-fzf-options '-w 50% -h 50% --multi -0 --no-preview --no-border'


# tmuxplugin-tilish
# ---------------------
set -g @plugin 'jabirali/tmux-tilish'


# tmuxplugin-vim-tmux-navigator
# ---------------------
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @tilish-navigator 'on'


# tmuxplugin-tmux-fzf
# ---------------------
TMUX_FZF_LAUNCH_KEY="f"


# tmuxplugin-catppuccin
# ---------------------
set -g @catppuccin_flavour 'mocha'
set -g @catppuccin_window_tabs_enabled on
set -g @catppuccin_status_modules_right "application session"

# ============================================= #

set -g status-interval 0
set -g status-justify left
set -g status-position top

  set -ga terminal-overrides ',*:Tc' # this is for 256 color
set -ga terminal-overrides '*:Ss=\E[%p1%d q:Se=\E[ q' # this is for the cursor shape

# don't exit from tmux when closing a session
set -g detach-on-destroy off

# disabled activity monitoring
setw -g monitor-activity off
set -g visual-activity off

# disable programs change name
set -g allow-rename off

# open lazygit in a new window
bind-key g display-popup -w "80%" -h "80%" -d "#{pane_current_path}" -E "lazygit"

# synchronize all panes in a window
bind -n C-M-y setw synchronize-panes

# Set new panes to open in current directory
bind c new-window -c "#{pane_current_path}"
bind 's' split-window -c "#{pane_current_path}"
bind 'v' split-window -h -c "#{pane_current_path}"

# vim-style copy-paste
bind -n C-M-u copy-mode
bind -n C-M-p paste-buffer
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel
bind -T copy-mode-vi r send-keys -X rectangle-toggle
